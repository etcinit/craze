<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.HTTP.Server</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-HTTP-Server.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network-HTTP-Server.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">http-server-1.0.6: A library for writing Haskell web servers.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Galois, Inc. 2007, 2008</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>diatchki@galois.com</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td></td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Network.HTTP.Server</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:server">server</a> :: <a href="../HTTP-4000.3.3/Network-TCP.html#t:HStream">HStream</a> a =&gt; <a href="Network-HTTP-Server.html#t:Handler">Handler</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:serverWith">serverWith</a> :: <a href="../HTTP-4000.3.3/Network-TCP.html#t:HStream">HStream</a> a =&gt; <a href="Network-HTTP-Server.html#t:Config">Config</a> -&gt; <a href="Network-HTTP-Server.html#t:Handler">Handler</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Handler">Handler</a> a = <a href="../network-2.6.3.1/Network-Socket-Internal.html#t:SockAddr">SockAddr</a> -&gt; <a href="../url-2.1.3/Network-URL.html#t:URL">URL</a> -&gt; <a href="Network-HTTP-Server.html#t:Request">Request</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="Network-HTTP-Server.html#t:Response">Response</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Config">Config</a> = <a href="#v:Config">Config</a> {<ul class="subs"><li><a href="#v:srvLog">srvLog</a> :: <a href="Network-HTTP-Server-Logger.html#t:Logger">Logger</a></li><li><a href="#v:srvHost">srvHost</a> :: <a href="../network-2.6.3.1/Network-Socket.html#t:HostName">HostName</a></li><li><a href="#v:srvPort">srvPort</a> :: <a href="../network-2.6.3.1/Network-Socket-Internal.html#t:PortNumber">PortNumber</a></li></ul>}</li><li class="src short"><a href="#v:defaultConfig">defaultConfig</a> :: <a href="Network-HTTP-Server.html#t:Config">Config</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Request">Request</a> a :: * -&gt; * = <a href="#v:Request">Request</a> {<ul class="subs"><li><a href="#v:rqURI">rqURI</a> :: <a href="../network-uri-2.6.1.0/Network-URI.html#t:URI">URI</a></li><li><a href="#v:rqMethod">rqMethod</a> :: <a href="Network-HTTP-Server.html#t:RequestMethod">RequestMethod</a></li><li><a href="#v:rqHeaders">rqHeaders</a> :: [<a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:Header">Header</a>]</li><li><a href="#v:rqBody">rqBody</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Response">Response</a> a :: * -&gt; * = <a href="#v:Response">Response</a> {<ul class="subs"><li><a href="#v:rspCode">rspCode</a> :: <a href="../HTTP-4000.3.3/Network-HTTP-Base.html#t:ResponseCode">ResponseCode</a></li><li><a href="#v:rspReason">rspReason</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li><a href="#v:rspHeaders">rspHeaders</a> :: [<a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:Header">Header</a>]</li><li><a href="#v:rspBody">rspBody</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:RequestMethod">RequestMethod</a> :: *<ul class="subs"><li>= <a href="#v:HEAD">HEAD</a></li><li>| <a href="#v:PUT">PUT</a></li><li>| <a href="#v:GET">GET</a></li><li>| <a href="#v:POST">POST</a></li><li>| <a href="#v:DELETE">DELETE</a></li><li>| <a href="#v:OPTIONS">OPTIONS</a></li><li>| <a href="#v:TRACE">TRACE</a></li><li>| <a href="#v:CONNECT">CONNECT</a></li><li>| <a href="#v:Custom">Custom</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li></ul></li><li class="src short">module <a href="../HTTP-4000.3.3/Network-HTTP-Headers.html">Network.HTTP.Headers</a></li><li class="src short">module <a href="Network-HTTP-Server-Response.html">Network.HTTP.Server.Response</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:server" class="def">server</a> :: <a href="../HTTP-4000.3.3/Network-TCP.html#t:HStream">HStream</a> a =&gt; <a href="Network-HTTP-Server.html#t:Handler">Handler</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Network-HTTP-Server.html#server" class="link">Source</a></p><div class="doc"><p>Start a server with the default configuration, and the given handler.
  Requests are handled in separate threads.</p></div></div><div class="top"><p class="src"><a name="v:serverWith" class="def">serverWith</a> :: <a href="../HTTP-4000.3.3/Network-TCP.html#t:HStream">HStream</a> a =&gt; <a href="Network-HTTP-Server.html#t:Config">Config</a> -&gt; <a href="Network-HTTP-Server.html#t:Handler">Handler</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Network-HTTP-Server.html#serverWith" class="link">Source</a></p><div class="doc"><p>Start a server with the given configuration and handler.
  Requests are handled in separate threads.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Handler" class="def">Handler</a> a = <a href="../network-2.6.3.1/Network-Socket-Internal.html#t:SockAddr">SockAddr</a> -&gt; <a href="../url-2.1.3/Network-URL.html#t:URL">URL</a> -&gt; <a href="Network-HTTP-Server.html#t:Request">Request</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="Network-HTTP-Server.html#t:Response">Response</a> a) <a href="src/Network-HTTP-Server.html#Handler" class="link">Source</a></p><div class="doc"><p>Handlers invoked to process requests.
 The type parameter is for the type of the payload in the body.
 It is a variation on string of some sort (e.g., String, ByteString, etc.)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Config" class="def">Config</a> <a href="src/Network-HTTP-Server.html#Config" class="link">Source</a></p><div class="doc"><p>Server configuration.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Config" class="def">Config</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:srvLog" class="def">srvLog</a> :: <a href="Network-HTTP-Server-Logger.html#t:Logger">Logger</a></dt><dd class="doc"><p>Server reports what's going on here.</p></dd><dt class="src"><a name="v:srvHost" class="def">srvHost</a> :: <a href="../network-2.6.3.1/Network-Socket.html#t:HostName">HostName</a></dt><dd class="doc"><p>Host name to bind to.</p></dd><dt class="src"><a name="v:srvPort" class="def">srvPort</a> :: <a href="../network-2.6.3.1/Network-Socket-Internal.html#t:PortNumber">PortNumber</a></dt><dd class="doc"><p>Port to listen on.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:defaultConfig" class="def">defaultConfig</a> :: <a href="Network-HTTP-Server.html#t:Config">Config</a> <a href="src/Network-HTTP-Server.html#defaultConfig" class="link">Source</a></p><div class="doc"><p>Some default options for a server:
 no logging output, listen on &quot;localhost:8000&quot;.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Request" class="def">Request</a> a :: * -&gt; *</p><div class="doc"><p>An HTTP Request.
 The <code><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a></code> instance of this type is used for message serialisation,
 which means no body data is output.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Request" class="def">Request</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:rqURI" class="def">rqURI</a> :: <a href="../network-uri-2.6.1.0/Network-URI.html#t:URI">URI</a></dt><dd class="doc"><p>might need changing in future
  1) to support <code><a href="../base-4.8.2.0/Prelude.html#v:-42-">*</a></code> uri in OPTIONS request
  2) transparent support for both relative
     &amp; absolute uris, although this should
     already work (leave scheme &amp; host parts empty).</p></dd><dt class="src"><a name="v:rqMethod" class="def">rqMethod</a> :: <a href="Network-HTTP-Server.html#t:RequestMethod">RequestMethod</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:rqHeaders" class="def">rqHeaders</a> :: [<a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:Header">Header</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:rqBody" class="def">rqBody</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Request" class="caption collapser" onclick="toggleSection('i:Request')">Instances</p><div id="section.i:Request" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Network-HTTP-Server.html#t:Request">Request</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:HasHeaders">HasHeaders</a> (<a href="Network-HTTP-Server.html#t:Request">Request</a> a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Response" class="def">Response</a> a :: * -&gt; *</p><div class="doc"><p>An HTTP Response.
 The <code><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a></code> instance of this type is used for message serialisation,
 which means no body data is output, additionally the output will
 show an HTTP version of 1.1 instead of the actual version returned
 by a server.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Response" class="def">Response</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:rspCode" class="def">rspCode</a> :: <a href="../HTTP-4000.3.3/Network-HTTP-Base.html#t:ResponseCode">ResponseCode</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:rspReason" class="def">rspReason</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:rspHeaders" class="def">rspHeaders</a> :: [<a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:Header">Header</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:rspBody" class="def">rspBody</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Response" class="caption collapser" onclick="toggleSection('i:Response')">Instances</p><div id="section.i:Response" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Network-HTTP-Server.html#t:Response">Response</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../HTTP-4000.3.3/Network-HTTP-Headers.html#t:HasHeaders">HasHeaders</a> (<a href="Network-HTTP-Server.html#t:Response">Response</a> a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RequestMethod" class="def">RequestMethod</a> :: *</p><div class="doc"><p>The HTTP request method, to be used in the <code><a href="Network-HTTP-Server.html#t:Request">Request</a></code> object.
 We are missing a few of the stranger methods, but these are
 not really necessary until we add full TLS.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HEAD" class="def">HEAD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PUT" class="def">PUT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GET" class="def">GET</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:POST" class="def">POST</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DELETE" class="def">DELETE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:OPTIONS" class="def">OPTIONS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TRACE" class="def">TRACE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:CONNECT" class="def">CONNECT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Custom" class="def">Custom</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RequestMethod" class="caption collapser" onclick="toggleSection('i:RequestMethod')">Instances</p><div id="section.i:RequestMethod" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-HTTP-Server.html#t:RequestMethod">RequestMethod</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Network-HTTP-Server.html#t:RequestMethod">RequestMethod</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src">module <a href="../HTTP-4000.3.3/Network-HTTP-Headers.html">Network.HTTP.Headers</a></p></div><div class="top"><p class="src">module <a href="Network-HTTP-Server-Response.html">Network.HTTP.Server.Response</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>